(function(e){if(e.fn.inputmask===undefined){function t(e){var t=document.createElement("input"),n="on"+e,r=n in t;if(!r){t.setAttribute(n,"return;");r=typeof t[n]=="function"}t=null;return r}function n(e){var t=e=="text"||e=="tel";if(!t){var n=document.createElement("input");n.setAttribute("type",e);t=n.type==="text";n=null}return t}function r(t,n,i){var s=i.aliases[t];if(s){if(s.alias)r(s.alias,undefined,i);e.extend(true,i,s);e.extend(true,i,n);return true}return false}function i(t,n){function i(n){function s(e,t,n,r){this.matches=[];this.isGroup=e||false;this.isOptional=t||false;this.isQuantifier=n||false;this.isAlternator=r||false;this.quantifier={min:1,max:1}}function o(n,r,s){var o=t.definitions[r];var u=n.matches.length==0;s=s!=undefined?s:n.matches.length;if(o&&!i){o["placeholder"]=e.isFunction(o["placeholder"])?o["placeholder"].call(this,t):o["placeholder"];var a=o["prevalidator"],f=a?a.length:0;for(var l=1;l<o.cardinality;l++){var c=f>=l?a[l-1]:[],h=c["validator"],p=c["cardinality"];n.matches.splice(s++,0,{fn:h?typeof h=="string"?new RegExp(h):new function(){this.test=h}:new RegExp("."),cardinality:p?p:1,optionality:n.isOptional,newBlockMarker:u,casing:o["casing"],def:o["definitionSymbol"]||r,placeholder:o["placeholder"],mask:r})}n.matches.splice(s++,0,{fn:o.validator?typeof o.validator=="string"?new RegExp(o.validator):new function(){this.test=o.validator}:new RegExp("."),cardinality:o.cardinality,optionality:n.isOptional,newBlockMarker:u,casing:o["casing"],def:o["definitionSymbol"]||r,placeholder:o["placeholder"],mask:r})}else{n.matches.splice(s++,0,{fn:null,cardinality:0,optionality:n.isOptional,newBlockMarker:u,casing:null,def:r,placeholder:undefined,mask:r});i=false}}var r=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,i=false;var u=new s,a,f,l=[],c=[],h,p,d,v;while(a=r.exec(n)){f=a[0];switch(f.charAt(0)){case t.optionalmarker.end:case t.groupmarker.end:h=l.pop();if(l.length>0){p=l[l.length-1];p["matches"].push(h);if(p.isAlternator){d=l.pop();for(var m=0;m<d.matches.length;m++){d.matches[m].isGroup=false}if(l.length>0){p=l[l.length-1];p["matches"].push(d)}else{u.matches.push(d)}}}else{u.matches.push(h)}break;case t.optionalmarker.start:l.push(new s(false,true));break;case t.groupmarker.start:l.push(new s(true));break;case t.quantifiermarker.start:var g=new s(false,false,true);f=f.replace(/[{}]/g,"");var y=f.split(","),b=isNaN(y[0])?y[0]:parseInt(y[0]),w=y.length==1?b:isNaN(y[1])?y[1]:parseInt(y[1]);if(w=="*"||w=="+"){b=w=="*"?0:1}g.quantifier={min:b,max:w};if(l.length>0){var E=l[l.length-1]["matches"];a=E.pop();if(!a["isGroup"]){var S=new s(true);S.matches.push(a);a=S}E.push(a);E.push(g)}else{a=u.matches.pop();if(!a["isGroup"]){var S=new s(true);S.matches.push(a);a=S}u.matches.push(a);u.matches.push(g)}break;case t.escapeChar:i=true;break;case t.alternatormarker:if(l.length>0){p=l[l.length-1];v=p.matches.pop()}else{v=u.matches.pop()}if(v.isAlternator){l.push(v)}else{d=new s(false,false,false,true);d.matches.push(v);l.push(d)}break;default:if(l.length>0){p=l[l.length-1];if(p.matches.length>0){v=p.matches[p.matches.length-1];if(v["isGroup"]){v.isGroup=false;o(v,t.groupmarker.start,0);o(v,t.groupmarker.end)}}o(p,f);if(p.isAlternator){d=l.pop();for(var m=0;m<d.matches.length;m++){d.matches[m].isGroup=false}if(l.length>0){p=l[l.length-1];p["matches"].push(d)}else{u.matches.push(d)}}}else{if(u.matches.length>0){v=u.matches[u.matches.length-1];if(v["isGroup"]){v.isGroup=false;o(v,t.groupmarker.start,0);o(v,t.groupmarker.end)}}o(u,f)}}}if(u.matches.length>0){v=u.matches[u.matches.length-1];if(v["isGroup"]){v.isGroup=false;o(v,t.groupmarker.start,0);o(v,t.groupmarker.end)}c.push(u)}return c}function s(n,r){if(n==undefined||n=="")return undefined;else{if(n.length==1&&t.greedy==false&&t.repeat!=0){t.placeholder=""}if(t.repeat>0||t.repeat=="*"||t.repeat=="+"){var s=t.repeat=="*"?0:t.repeat=="+"?1:t.repeat;n=t.groupmarker.start+n+t.groupmarker.end+t.quantifiermarker.start+s+","+t.repeat+t.quantifiermarker.end}if(e.inputmask.masksCache[n]==undefined){e.inputmask.masksCache[n]={mask:n,maskToken:i(n),validPositions:{},_buffer:undefined,buffer:undefined,tests:{},metadata:r}}return e.extend(true,{},e.inputmask.masksCache[n])}}function o(e){e=e.toString();if(t.numericInput){e=e.split("").reverse();for(var n=0;n<e.length;n++){if(e[n]==t.optionalmarker.start)e[n]=t.optionalmarker.end;else if(e[n]==t.optionalmarker.end)e[n]=t.optionalmarker.start;else if(e[n]==t.groupmarker.start)e[n]=t.groupmarker.end;else if(e[n]==t.groupmarker.end)e[n]=t.groupmarker.start}e=e.join("")}return e}var r=undefined;if(e.isFunction(t.mask)){t.mask=t.mask.call(this,t)}if(e.isArray(t.mask)){if(n){r=[];e.each(t.mask,function(t,n){if(n["mask"]!=undefined&&!e.isFunction(n["mask"])){r.push(s(o(n["mask"]),n))}else{r.push(s(o(n),n))}});return r}else{if(t.mask.length>1){t.keepStatic=t.keepStatic==undefined?true:t.keepStatic;var u="(";e.each(t.mask,function(t,n){if(u.length>1)u+=")|(";if(n["mask"]!=undefined&&!e.isFunction(n["mask"])){u+=o(n["mask"])}else{u+=o(n)}});u+=")";return s(u,t.mask)}else t.mask=t.mask.pop()}}if(t.mask){if(t.mask["mask"]!=undefined&&!e.isFunction(t.mask["mask"])){r=s(o(t.mask["mask"]),t.mask)}else{r=s(o(t.mask),t.mask)}}return r}var s=navigator.userAgent,o=s.match(new RegExp("iphone","i"))!==null,u=s.match(new RegExp("android.*safari.*","i"))!==null,a=s.match(new RegExp("android.*chrome.*","i"))!==null,f=s.match(new RegExp("android.*firefox.*","i"))!==null,l=/Kindle/i.test(s)||/Silk/i.test(s)||/KFTT/i.test(s)||/KFOT/i.test(s)||/KFJWA/i.test(s)||/KFJWI/i.test(s)||/KFSOWI/i.test(s)||/KFTHWA/i.test(s)||/KFTHWI/i.test(s)||/KFAPWA/i.test(s)||/KFAPWI/i.test(s),c=t("paste")?"paste":t("input")?"input":"propertychange";function h(r,i,s){function w(e,t,n){t=t||0;var r=[],i,s=0,o,u;do{if(e===true&&E()["validPositions"][s]){var a=E()["validPositions"][s];o=a["match"];i=a["locator"].slice();r.push(n===true?a["input"]:U(s,o))}else{if(t>s){var f=A(s,i,s-1);u=f[0]}else{u=C(s,i,s-1)}o=u["match"];i=u["locator"].slice();r.push(U(s,o))}s++}while((y==undefined||s-1<y)&&o["fn"]!=null||o["fn"]==null&&o["def"]!=""||t>=s);r.pop();return r}function E(){return i}function S(e){var t=E();t["buffer"]=undefined;t["tests"]={};if(e!==true){t["_buffer"]=undefined;t["validPositions"]={};t["p"]=0}}function x(e){var t=E(),n=-1,r=t["validPositions"];if(e==undefined)e=-1;var i=n,s=n;for(var o in r){var u=parseInt(o);if(e==-1||r[u]["match"].fn!=null){if(u<=e)i=u;if(u>=e)s=u}}n=e-i>1||s<e?i:s;return n}function T(t,n,r){if(s.insertMode&&E()["validPositions"][t]!=undefined&&r==undefined){var i=e.extend(true,{},E()["validPositions"]),o=x(),u;for(u=t;u<=o;u++){delete E()["validPositions"][u]}E()["validPositions"][t]=n;var a=true,f;for(u=t;u<=o;u++){var l=i[u];if(l!=undefined){var c=E()["validPositions"];if(!s.keepStatic&&c[u]&&(c[u+1]!=undefined&&A(u+1,c[u].locator.slice(),u).length>1||c[u].alternation!=undefined))f=u+1;else f=F(u);if(L(f,l["match"].def)){a=a&&H(f,l["input"],true,true)!==false}else a=l["match"].fn==null}if(!a)break}if(!a){E()["validPositions"]=e.extend(true,{},i);return false}}else E()["validPositions"][t]=n;return true}function N(e,t){var n,r=e;if(E()["validPositions"][e]!=undefined&&E()["validPositions"][e].input==s.radixPoint){t++;r++}for(n=r;n<t;n++){if(E()["validPositions"][n]!=undefined&&(E()["validPositions"][n].input!=s.radixPoint||n==x()))delete E()["validPositions"][n]}for(n=t;n<=x();){var i=E()["validPositions"][n];var o=E()["validPositions"][r];if(i!=undefined&&o==undefined){if(L(r,i.match.def)&&H(r,i["input"],true)!==false){delete E()["validPositions"][n];n++}r++}else n++}var u=x();if(e<=u&&E()["validPositions"][u]!=undefined&&E()["validPositions"][u].input==s.radixPoint)delete E()["validPositions"][u];S(true)}function C(e,t,n){var r=A(e,t,n),i,o=x(),u=E()["validPositions"][o]||A(0)[0],a=u.alternation!=undefined?u["locator"][u.alternation].split(","):[];for(var f=0;f<r.length;f++){i=r[f];if(s.greedy||i["match"]&&(i["match"].optionality===false||i["match"].newBlockMarker===false)&&i["match"].optionalQuantifier!==true&&(u.alternation==undefined||i["locator"][u.alternation]!=undefined&&P(i.locator[u.alternation].toString().split(","),a))){break}}return i}function k(e){if(E()["validPositions"][e]){return E()["validPositions"][e]["match"]}return A(e)[0]["match"]}function L(e,t){var n=false,r=A(e);for(var i=0;i<r.length;i++){if(r[i]["match"]&&r[i]["match"].def==t){n=true;break}}return n}function A(t,n,r){function l(n,r,i,u){function c(i,u,p){if(o>1e4){alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+E()["mask"]);return true}if(o==t&&i.matches==undefined){a.push({match:i,locator:u.reverse()});return true}else if(i.matches!=undefined){if(i.isGroup&&p!==true){i=c(n.matches[h+1],u);if(i)return true}else if(i.isOptional){var d=i;i=l(i,r,u,p);if(i){var v=a[a.length-1]["match"];var m=e.inArray(v,d.matches)==0;if(m){f=true}o=t}}else if(i.isAlternator){var g=i,y=[],b,w=a.slice(),S=u.length;var x=r.length>0?r.shift():-1;if(x==-1||typeof x=="string"){var T=o,N=r.slice(),C;if(typeof x=="string")C=x.split(",");for(var k=0;k<g.matches.length;k++){a=[];i=c(g.matches[k],[k].concat(u),p)||i;b=a.slice();o=T;a=[];for(var L=0;L<N.length;L++){r[L]=N[L]}for(var A=0;A<b.length;A++){var O=b[A];for(var M=0;M<y.length;M++){var _=y[M];if(O.match.mask==_.match.mask&&(typeof x!="string"||e.inArray(O.locator[S].toString(),C)!=-1)){b.splice(A,1);_.locator[S]=_.locator[S]+","+O.locator[S];_.alternation=S;break}}}y=y.concat(b)}if(typeof x=="string"){y=e.map(y,function(t,n){if(isFinite(n)){var r=t.locator[S].toString().split(",");var i;t.locator[S]=undefined;t.alternation=undefined;for(var s=0;s<r.length;s++){i=e.inArray(r[s],C)!=-1;if(i){if(t.locator[S]!=undefined){t.locator[S]+=",";t.alternation=S;t.locator[S]+=r[s]}else t.locator[S]=parseInt(r[s])}}if(t.locator[S]!=undefined)return t}})}a=w.concat(y);f=true}else{i=c(g.matches[x],[x].concat(u),p)}if(i)return true}else if(i.isQuantifier&&p!==true){var D=i;s.greedy=s.greedy&&isFinite(D.quantifier.max);for(var P=r.length>0&&p!==true?r.shift():0;P<(isNaN(D.quantifier.max)?P+1:D.quantifier.max)&&o<=t;P++){var H=n.matches[e.inArray(D,n.matches)-1];i=c(H,[P].concat(u),true);if(i){var v=a[a.length-1]["match"];v.optionalQuantifier=P>D.quantifier.min-1;var m=e.inArray(v,H.matches)==0;if(m){if(P>D.quantifier.min-1){f=true;o=t;break}else return true}else{return true}}}}else{i=l(i,r,u,p);if(i)return true}}else o++}for(var h=r.length>0?r.shift():0;h<n.matches.length;h++){if(n.matches[h]["isQuantifier"]!==true){var p=c(n.matches[h],[h].concat(i),u);if(p&&o==t){return p}else if(o>t){break}}}}var i=E()["maskToken"],o=n?r:0,u=n||[0],a=[],f=false;if(n==undefined){var c=t-1,h;while((h=E()["validPositions"][c])==undefined&&c>-1){c--}if(h!=undefined&&c>-1){o=c;u=h["locator"].slice()}else{c=t-1;while((h=E()["tests"][c])==undefined&&c>-1){c--}if(h!=undefined&&c>-1){o=c;u=h[0]["locator"].slice()}}}for(var p=u.shift();p<i.length;p++){var d=l(i[p],u,[p]);if(d&&o==t||o>t){break}}if(a.length==0||f)a.push({match:{fn:null,cardinality:0,optionality:true,casing:null,def:""},locator:[]});E()["tests"][t]=e.extend(true,[],a);return E()["tests"][t]}function O(){if(E()["_buffer"]==undefined){E()["_buffer"]=w(false,1)}return E()["_buffer"]}function M(){if(E()["buffer"]==undefined){E()["buffer"]=w(true,x(),true)}return E()["buffer"]}function _(e,t,n){n=n||M().slice();if(e===true){S();e=0;t=n.length}else{for(var r=e;r<t;r++){delete E()["validPositions"][r];delete E()["tests"][r]}}for(var r=e;r<t;r++){if(n[r]!=s.skipOptionalPartCharacter){H(r,n[r],true,true)}}}function D(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e}function P(t,n){var r=s.greedy?n:n.slice(0,1),i=false;for(var o=0;o<t.length;o++){if(e.inArray(t[o],r)!=-1){i=true;break}}return i}function H(t,n,r,i){function o(t,n,r,i){var o=false;e.each(A(t),function(u,a){var f=a["match"];var l=n?1:0,c="",h=M();for(var p=f.cardinality;p>l;p--){c+=q(t-(p-1))}if(n){c+=n}o=f.fn!=null?f.fn.test(c,E(),t,r,s):(n==f["def"]||n==s.skipOptionalPartCharacter)&&f["def"]!=""?{c:f["def"],pos:t}:false;if(o!==false){var d=o.c!=undefined?o.c:n;d=d==s.skipOptionalPartCharacter&&f["fn"]===null?f["def"]:d;var v=t;if(o["remove"]!=undefined){N(o["remove"],o["remove"]+1)}if(o["refreshFromBuffer"]){var m=o["refreshFromBuffer"];r=true;_(m===true?m:m["start"],m["end"]);if(o.pos==undefined&&o.c==undefined){o.pos=x();return false}v=o.pos!=undefined?o.pos:t;if(v!=t){o=e.extend(o,H(v,d,true));return false}}else if(o!==true&&o.pos!=undefined&&o["pos"]!=t){v=o["pos"];_(t,v);if(v!=t){o=e.extend(o,H(v,d,true));return false}}if(o!=true&&o.pos==undefined&&o.c==undefined){return false}if(u>0){S(true)}if(!T(v,e.extend({},a,{input:D(d,f)}),i))o=false;return false}});return o}function u(t,n,r,i){var o=e.extend(true,{},E()["validPositions"]),u,a;for(u=x();u>=0;u--){if(E()["validPositions"][u]&&E()["validPositions"][u].alternation!=undefined){a=E()["validPositions"][u].alternation;break}}if(a!=undefined){for(var f in E()["validPositions"]){if(parseInt(f)>parseInt(u)&&E()["validPositions"][f].alternation===undefined){var l=E()["validPositions"][f],c=l.locator[a],h=E()["validPositions"][u].locator[a].split(",");for(var p=0;p<h.length;p++){if(c<h[p]){var d,v;for(var m=f-1;m>=0;m--){d=E()["validPositions"][m];if(d!=undefined){v=d.locator[a];d.locator[a]=h[p];break}}if(c!=d.locator[a]){var g=M().slice();for(var y=f;y<x()+1;y++){delete E()["validPositions"][y];delete E()["tests"][y]}S(true);s.keepStatic=!s.keepStatic;for(var y=f;y<g.length;y++){if(g[y]!=s.skipOptionalPartCharacter){H(x()+1,g[y],false,true)}}d.locator[a]=v;var b=H(t,n,r,i);s.keepStatic=!s.keepStatic;if(!b){S();E()["validPositions"]=e.extend(true,{},o)}else return b}}}break}}}return false}function a(t,n){var r=E()["validPositions"][n],i=r.locator,s=i.length;for(var o=t;o<n;o++){if(!B(o)){var u=A(o),a=u[0],f=-1;e.each(u,function(e,t){for(var n=0;n<s;n++){if(t.locator[n]&&P(t.locator[n].toString().split(","),i[n].toString().split(","))&&f<n){f=n;a=t}}});T(o,e.extend({},a,{input:a["match"].def}),true)}}}r=r===true;var f=M();for(var l=t-1;l>-1;l--){if(E()["validPositions"][l]&&E()["validPositions"][l]["match"].fn==null)break;else if(E()["validPositions"][l]==undefined&&(!B(l)||f[l]!=U(l))&&A(l).length>1){o(l,f[l],true)}}var c=t;var h=false;if(i&&c>=j()){S(true)}if(c<j()){h=o(c,n,r,i);if(!r&&h===false){var p=E()["validPositions"][c];if(p&&p["match"].fn==null&&(p["match"].def==n||n==s.skipOptionalPartCharacter)){h={caret:F(c)}}else if((s.insertMode||E()["validPositions"][F(c)]==undefined)&&!B(c)){for(var d=c+1,v=F(c);d<=v;d++){h=o(d,n,r,i);if(h!==false){a(c,d);c=d;break}}}}}if(h===false&&s.keepStatic&&G(f)){h=u(t,n,r,i)}if(h===true)h={pos:c};return h}function B(e){var t=k(e);return t.fn!=null?t.fn:false}function j(){var e;y=d.prop("maxLength");if(y==-1)y=undefined;if(s.greedy==false){var t,n=x(),r=E()["validPositions"][n],i=r!=undefined?r["locator"].slice():undefined;for(t=n+1;r==undefined||r["match"]["fn"]!=null||r["match"]["fn"]==null&&r["match"]["def"]!="";t++){r=C(t,i,t-1);i=r["locator"].slice()}e=t}else e=M().length;return y==undefined||e<y?e:y}function F(e){var t=j();if(e>=t)return t;var n=e;while(++n<t&&!B(n)&&(s.nojumps!==true||s.nojumpsThreshold>n)){}return n}function I(e){var t=e;if(t<=0)return 0;while(--t>0&&!B(t)){}return t}function q(e){return E()["validPositions"][e]==undefined?U(e):E()["validPositions"][e]["input"]}function R(e,t,n){e._valueSet(t.join(""));if(n!=undefined){J(e,n)}}function U(e,t){t=t||k(e);return t["placeholder"]!=undefined?t["placeholder"]:t["fn"]==null?t["def"]:s.placeholder.charAt(e%s.placeholder.length)}function z(t,n,r,i){var o=i!=undefined?i.slice():t._valueGet().split("");S();if(n)t._valueSet("");var u=O().slice(0,F(-1)).join(""),a=o.join("").match(new RegExp(W(u),"g"));if(a&&a.length>1){o.splice(0,u.length*a.length)}e.each(o,function(n,i){var s=e.Event("keypress");s.which=i.charCodeAt(0);var o=x(),u=E()["validPositions"][o],a=C(o+1,u?u.locator.slice():undefined,o);if(e.inArray(i,O().slice(o+1,n<E()["p"]?n:E()["p"]))==-1||r){var f=r?n:a["match"].fn==null&&o+1<E()["p"]?o+1:E()["p"];it.call(t,s,true,false,r,f)}else{it.call(t,s,true,false,true,o+1)}});if(n){var f=s.onKeyPress.call(this,undefined,M(),0,s);nt(t,f);R(t,M(),e(t).is(":focus")?F(x(0)):undefined)}}function W(t){return e.inputmask.escapeRegex.call(this,t)}function X(t){if(t.data("_inputmask")&&!t.hasClass("hasDatepicker")){var n=[],r=E()["validPositions"];for(var i in r){if(r[i]["match"]&&r[i]["match"].fn!=null){n.push(r[i]["input"])}}var o=(u?n.reverse():n).join("");var a=(u?M().slice().reverse():M()).join("");if(e.isFunction(s.onUnMask)){o=s.onUnMask.call(t,a,o,s)||o}return o}else{return t[0]._valueGet()}}function V(e){if(u&&typeof e=="number"&&(!s.greedy||s.placeholder!="")){var t=M().length;e=t-e}return e}function J(t,n,r){var i=t.jquery&&t.length>0?t[0]:t,o;if(typeof n=="number"){n=V(n);r=V(r);r=typeof r=="number"?r:n;var u=e(i).data("_inputmask")||{};u["caret"]={begin:n,end:r};e(i).data("_inputmask",u);if(!e(i).is(":visible")){return}var a=e(i).css("font-size").replace("px","")*r;i.scrollLeft=a>i.scrollWidth?a:0;if(s.insertMode==false&&n==r)r++;if(i.setSelectionRange){i.selectionStart=n;i.selectionEnd=r}else if(i.createTextRange){o=i.createTextRange();o.collapse(true);o.moveEnd("character",r);o.moveStart("character",n);o.select()}}else{var u=e(i).data("_inputmask");if(!e(i).is(":visible")&&u&&u["caret"]!=undefined){n=u["caret"]["begin"];r=u["caret"]["end"]}else if(i.setSelectionRange){n=i.selectionStart;r=i.selectionEnd}else if(document.selection&&document.selection.createRange){o=document.selection.createRange();n=0-o.duplicate().moveStart("character",-1e5);r=n+o.text.length}n=V(n);r=V(r);return{begin:n,end:r}}}function K(t){var n=M(),r=n.length,i,s=x(),o={},u=E()["validPositions"][s],a=u!=undefined?u["locator"].slice():undefined,f;for(i=s+1;i<n.length;i++){f=C(i,a,i-1);a=f["locator"].slice();o[i]=e.extend(true,{},f)}var l=u&&u.alternation!=undefined?u["locator"][u.alternation].split(","):[];for(i=r-1;i>s;i--){f=o[i]["match"];if((f.optionality||f.optionalQuantifier||u&&u.alternation!=undefined&&o[i]["locator"][u.alternation]!=undefined&&e.inArray(o[i]["locator"][u.alternation].toString(),l)!=-1)&&n[i]==U(i,f)){r--}else break}return t?{l:r,def:o[r]?o[r]["match"]:undefined}:r}function Q(e){var t=K(),n=e.length-1;for(;n>t;n--){if(B(n))break}e.splice(t,n+1-t)}function G(t){if(e.isFunction(s.isComplete))return s.isComplete.call(d,t,s);if(s.repeat=="*")return undefined;var n=false,r=K(true),i=I(r["l"]),o=x();if(o==i){if(r["def"]==undefined||r["def"].newBlockMarker||r["def"].optionalQuantifier){n=true;for(var u=0;u<=i;u++){var a=B(u);if(a&&(t[u]==undefined||t[u]==U(u))||!a&&t[u]!=U(u)){n=false;break}}}}return n}function Y(e,t){return u?e-t>1||e-t==1&&s.insertMode:t-e>1||t-e==1&&s.insertMode}function Z(t){var n=e._data(t).events;e.each(n,function(t,n){e.each(n,function(e,t){if(t.namespace=="inputmask"){if(t.type!="setvalue"){var n=t.handler;t.handler=function(e){if(this.readOnly||this.disabled)e.preventDefault();else{switch(e.type){case"input":if(m===true){m=false;return e.preventDefault()}break;case"keydown":v=false;break;case"keypress":if(v===true)return e.preventDefault();v=true;break;case"compositionstart":break;case"compositionupdate":m=true;break;case"compositionend":break}return n.apply(this,arguments)}}}}})})}function et(t){function i(t){if(e.valHooks[t]==undefined||e.valHooks[t].inputmaskpatch!=true){var n=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value};var r=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){e.value=t;return e};e.valHooks[t]={get:function(t){var r=e(t);if(r.data("_inputmask")){if(r.data("_inputmask")["opts"].autoUnmask)return r.inputmask("unmaskedvalue");else{var i=n(t),s=r.data("_inputmask"),o=s["maskset"],u=o["_buffer"];u=u?u.join(""):"";return i!=u?i:""}}else return n(t)},set:function(t,n){var i=e(t),s=i.data("_inputmask"),o;if(s){o=r(t,e.isFunction(s["opts"].onBeforeMask)?s["opts"].onBeforeMask.call(mt,n,s["opts"])||n:n);i.triggerHandler("setvalue.inputmask")}else{o=r(t,n)}return o},inputmaskpatch:true}}}function o(){var t=e(this),r=e(this).data("_inputmask");if(r){return r["opts"].autoUnmask?t.inputmask("unmaskedvalue"):n.call(this)!=O().join("")?n.call(this):""}else return n.call(this)}function a(t){var n=e(this).data("_inputmask");if(n){r.call(this,e.isFunction(n["opts"].onBeforeMask)?n["opts"].onBeforeMask.call(mt,t,n["opts"])||t:t);e(this).triggerHandler("setvalue.inputmask")}else{r.call(this,t)}}function f(t){e(t).bind("mouseenter.inputmask",function(t){var n=e(this),r=this,i=r._valueGet();if(i!=""&&i!=M().join("")){this._valueSet(e.isFunction(s.onBeforeMask)?s.onBeforeMask.call(mt,i,s)||i:i);n.trigger("setvalue")}});var n=e._data(t).events;var r=n["mouseover"];if(r){var i=r[r.length-1];for(var o=r.length-1;o>0;o--){r[o]=r[o-1]}r[0]=i}}var n;var r;if(!t._valueGet){if(Object.getOwnPropertyDescriptor)var l=Object.getOwnPropertyDescriptor(t,"value");if(l&&l.configurable&&false){t._value=l.value;n=function(){return this._value||""};r=function(e){this._value=e;this.select();this.setRangeText(e);this.selectionStart=this.selectionEnd};Object.defineProperty(t,"value",{get:o,set:a})}else if(document.__lookupGetter__&&t.__lookupGetter__("value")){n=t.__lookupGetter__("value");r=t.__lookupSetter__("value");t.__defineGetter__("value",o);t.__defineSetter__("value",a)}else{n=function(){return t.value};r=function(e){t.value=e};i(t.type);f(t)}t._valueGet=function(){return u?n.call(this).split("").reverse().join(""):n.call(this)};t._valueSet=function(e){r.call(this,u?e.split("").reverse().join(""):e)}}}function tt(t,n,r){function i(){if(s.keepStatic){S(true);var n=[],r;for(r=x();r>=0;r--){if(E()["validPositions"][r]){if(E()["validPositions"][r].alternation!=undefined){break}n.push(E()["validPositions"][r].input);delete E()["validPositions"][r]}}if(r>0){while(n.length>0){E()["p"]=F(x());var i=e.Event("keypress");i.which=n.pop().charCodeAt(0);it.call(t,i,true,false,false,E()["p"])}}}}if(s.numericInput||u){if(n==e.inputmask.keyCode.BACKSPACE)n=e.inputmask.keyCode.DELETE;else if(n==e.inputmask.keyCode.DELETE)n=e.inputmask.keyCode.BACKSPACE;if(u){var o=r.end;r.end=r.begin;r.begin=o}}if(n==e.inputmask.keyCode.BACKSPACE&&r.end-r.begin<=1)r.begin=I(r.begin);else if(n==e.inputmask.keyCode.DELETE&&r.begin==r.end)r.end++;N(r.begin,r.end);i();var a=x(r.begin);if(a<r.begin){if(a==-1)S();E()["p"]=F(a)}else{E()["p"]=r.begin}}function nt(e,t,n){if(t&&t["refreshFromBuffer"]){var r=t["refreshFromBuffer"];_(r===true?r:r["start"],r["end"],t["buffer"]);S(true);if(n!=undefined){R(e,M());J(e,t.caret||n.begin,t.caret||n.end)}}}function rt(n){var r=this,i=e(r),f=n.keyCode,l=J(r);if(f==e.inputmask.keyCode.BACKSPACE||f==e.inputmask.keyCode.DELETE||o&&f==127||n.ctrlKey&&f==88&&!t("cut")){n.preventDefault();if(f==88)a=M().join("");tt(r,f,l);R(r,M(),E()["p"]);if(r._valueGet()==O().join(""))i.trigger("cleared");if(s.showTooltip){i.prop("title",E()["mask"])}}else if(f==e.inputmask.keyCode.END||f==e.inputmask.keyCode.PAGE_DOWN){setTimeout(function(){var e=F(x());if(!s.insertMode&&e==j()&&!n.shiftKey)e--;J(r,n.shiftKey?l.begin:e,e)},0)}else if(f==e.inputmask.keyCode.HOME&&!n.shiftKey||f==e.inputmask.keyCode.PAGE_UP){J(r,0,n.shiftKey?l.begin:0)}else if(s.undoOnEscape&&f==e.inputmask.keyCode.ESCAPE||f==90&&n.ctrlKey){z(r,true,false,a.split(""));i.click()}else if(f==e.inputmask.keyCode.INSERT&&!(n.shiftKey||n.ctrlKey)){s.insertMode=!s.insertMode;J(r,!s.insertMode&&l.begin==j()?l.begin-1:l.begin)}else if(s.insertMode==false&&!n.shiftKey){if(f==e.inputmask.keyCode.RIGHT){setTimeout(function(){var e=J(r);J(r,e.begin)},0)}else if(f==e.inputmask.keyCode.LEFT){setTimeout(function(){var e=J(r);J(r,u?e.begin+1:e.begin-1)},0)}}var c=J(r);var h=s.onKeyDown.call(this,n,M(),c.begin,s);nt(r,h,c);g=e.inArray(f,s.ignorables)!=-1}function it(t,n,r,i,o){var a=this,f=e(a);var l=t.which||t.charCode||t.keyCode;if(n!==true&&!(t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||g)){return true}else{if(l){if(l==46&&t.shiftKey==false&&s.radixPoint==",")l=44;var c=n?{begin:o,end:o}:J(a),h,p=String.fromCharCode(l);var d=Y(c.begin,c.end);if(d){E()["undoPositions"]=e.extend(true,{},E()["validPositions"]);tt(a,e.inputmask.keyCode.DELETE,c);if(!s.insertMode){s.insertMode=!s.insertMode;T(c.begin,i);s.insertMode=!s.insertMode}d=!s.multi}E()["writeOutBuffer"]=true;var v=u&&!d?c.end:c.begin;var y=H(v,p,i);if(y!==false){if(y!==true){v=y.pos!=undefined?y.pos:v;p=y.c!=undefined?y.c:p}S(true);if(y.caret!=undefined)h=y.caret;else{var b=E()["validPositions"];if(!s.keepStatic&&(b[v+1]!=undefined&&A(v+1,b[v].locator.slice(),v).length>1||b[v].alternation!=undefined))h=v+1;else h=F(v)}E()["p"]=h}if(r!==false){var w=this;setTimeout(function(){s.onKeyValidation.call(w,y,s)},0);if(E()["writeOutBuffer"]&&y!==false){var x=M();R(a,x,n?undefined:s.numericInput?I(h):h);if(n!==true){setTimeout(function(){if(G(x)===true)f.trigger("complete");m=true;f.trigger("input")},0)}}else if(d){E()["buffer"]=undefined;E()["validPositions"]=E()["undoPositions"]}}else if(d){E()["buffer"]=undefined;E()["validPositions"]=E()["undoPositions"]}if(s.showTooltip){f.prop("title",E()["mask"])}if(n){var N=s.onKeyPress.call(this,t,M(),h,s);if(N&&N["refreshFromBuffer"]){nt(a,N);if(N.caret){E()["p"]=N.caret}}}else{var C=J(a);nt(a,s.onKeyPress.call(this,t,M(),C.begin,s),C)}t.preventDefault()}}}function st(t){var n=e(this),r=this,i=t.keyCode,o=M();var u=J(r);var a=s.onKeyUp.call(this,t,o,u.begin,s);nt(r,a,u)}function ot(t){var n=this,r=e(n),i=n._valueGet(),o=J(n);if(t.type=="propertychange"&&n._valueGet().length<=j()){return true}else if(t.type=="paste"){if(window.clipboardData&&window.clipboardData.getData){i=i.substr(0,o.begin)+window.clipboardData.getData("Text")+i.substr(o.end,i.length)}else if(t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.getData){i=i.substr(0,o.begin)+t.originalEvent.clipboardData.getData("text/plain")+i.substr(o.end,i.length);}}var a=e.isFunction(s.onBeforePaste)?s.onBeforePaste.call(n,i,s)||i:i;z(n,true,false,u?a.split("").reverse():a.split(""));r.click();if(G(M())===true)r.trigger("complete");return false}function ut(t){var n=this;z(n,true,false);if(G(M())===true)e(n).trigger("complete");t.preventDefault()}function at(e){var t=this;a=M().join("");if(p==""||e.originalEvent.data.indexOf(p)!=0){h=J(t)}}function ft(t){var n=this,r=h||J(n);if(t.originalEvent.data.indexOf(p)==0){S();r={begin:0,end:0}}var i=t.originalEvent.data;J(n,r.begin,r.end);for(var o=0;o<i.length;o++){var u=e.Event("keypress");u.which=i.charCodeAt(o);v=false;g=false;it.call(n,u)}setTimeout(function(){var e=E()["p"];R(n,M(),s.numericInput?I(e):e)},0);p=t.originalEvent.data}function lt(e){}function ct(t){d=e(t);if(d.is(":input")&&n(d.attr("type"))){d.data("_inputmask",{maskset:i,opts:s,isRTL:false});if(s.showTooltip){d.prop("title",E()["mask"])}if(t.dir=="rtl"||s.rightAlign)d.css("text-align","right");if(t.dir=="rtl"||s.numericInput){t.dir="ltr";d.removeAttr("dir");var r=d.data("_inputmask");r["isRTL"]=true;d.data("_inputmask",r);u=true}d.unbind(".inputmask");d.closest("form").bind("submit",function(e){if(a!=M().join("")){d.change()}if(d[0]._valueGet&&d[0]._valueGet()==O().join("")){d[0]._valueSet("")}if(s.removeMaskOnSubmit){d.inputmask("remove")}}).bind("reset",function(){setTimeout(function(){d.trigger("setvalue")},0)});d.bind("mouseenter.inputmask",function(){var t=e(this),n=this;if(!t.is(":focus")&&s.showMaskOnHover){if(n._valueGet()!=M().join("")){R(n,M())}}}).bind("blur.inputmask",function(){var t=e(this),n=this;if(t.data("_inputmask")){var r=n._valueGet(),i=M().slice();b=true;if(a!=i.join("")){t.change();a=i.join("")}if(r!=""){if(s.clearMaskOnLostFocus){if(r==O().join(""))i=[];else{Q(i)}}if(G(i)===false){t.trigger("incomplete");if(s.clearIncomplete){S();if(s.clearMaskOnLostFocus)i=[];else{i=O().slice()}}}if(e.isFunction(s.postProcessOnBlur)){var o=s.postProcessOnBlur.call(n,i,s);if(o){nt(n,o);i=M()}}R(n,i)}}}).bind("focus.inputmask",function(t){var n=e(this),r=this,i=r._valueGet();if(s.showMaskOnFocus&&(!s.showMaskOnHover||s.showMaskOnHover&&i=="")){if(r._valueGet()!=M().join("")){R(r,M(),F(x()))}}a=M().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),n=this;if(s.clearMaskOnLostFocus){var r=M().slice(),i=n._valueGet();if(!t.is(":focus")&&i!=t.attr("placeholder")&&i!=""){if(i==O().join(""))r=[];else{Q(r)}R(n,r)}}}).bind("click.inputmask",function(){var t=e(this),n=this;if(t.is(":focus")){var r=J(n);if(r.begin==r.end){if(s.radixFocus&&s.radixPoint!=""&&e.inArray(s.radixPoint,M())!=-1&&(b||M().join("")==O().join(""))){J(n,e.inArray(s.radixPoint,M()));b=false}else{var i=u?V(r.begin):r.begin,o=F(x(i));if(i<o){J(n,B(i)?i:F(i))}else{J(n,o)}}}}}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){J(e,0,F(x()))},0)}).bind(c+".inputmask dragdrop.inputmask drop.inputmask",ot).bind("setvalue.inputmask",function(){var e=this;z(e,true,false);a=M().join("");if((s.clearMaskOnLostFocus||s.clearIncomplete)&&e._valueGet()==O().join(""))e._valueSet("")}).bind("cut.inputmask",function(t){m=true;var n=this,r=e(n),i=J(n);tt(n,e.inputmask.keyCode.DELETE,i);var o=s.onKeyPress.call(this,t,M(),E()["p"],s);nt(n,o,{begin:E()["p"],end:E()["p"]});if(n._valueGet()==O().join(""))r.trigger("cleared");if(s.showTooltip){r.prop("title",E()["mask"])}}).bind("complete.inputmask",s.oncomplete).bind("incomplete.inputmask",s.onincomplete).bind("cleared.inputmask",s.oncleared);d.bind("keydown.inputmask",rt).bind("keypress.inputmask",it).bind("keyup.inputmask",st);if(!f){d.bind("compositionstart.inputmask",at).bind("compositionupdate.inputmask",ft).bind("compositionend.inputmask",lt)}if(c==="paste"){d.bind("input.inputmask",ut)}et(t);var o=e.isFunction(s.onBeforeMask)?s.onBeforeMask.call(t,t._valueGet(),s)||t._valueGet():t._valueGet();z(t,true,false,o.split(""));var l=M().slice();a=l.join("");var h;try{h=document.activeElement}catch(p){}if(G(l)===false){if(s.clearIncomplete)S()}if(s.clearMaskOnLostFocus){if(l.join("")==O().join("")){l=[]}else{Q(l)}}R(t,l);if(h===t){J(t,F(x()))}Z(t)}}var u=false,a,l,h,p,d,v=false,m=false,g=false,y,b=true;if(r!=undefined){switch(r["action"]){case"isComplete":d=e(r["el"]);i=d.data("_inputmask")["maskset"];s=d.data("_inputmask")["opts"];return G(r["buffer"]);case"unmaskedvalue":d=r["$input"];i=d.data("_inputmask")["maskset"];s=d.data("_inputmask")["opts"];u=r["$input"].data("_inputmask")["isRTL"];return X(r["$input"]);case"mask":a=M().join("");ct(r["el"]);break;case"format":d=e({});d.data("_inputmask",{maskset:i,opts:s,isRTL:s.numericInput});if(s.numericInput){u=true}var ht=(e.isFunction(s.onBeforeMask)?s.onBeforeMask.call(d,r["value"],s)||r["value"]:r["value"]).split("");z(d,false,false,u?ht.reverse():ht);s.onKeyPress.call(this,undefined,M(),0,s);if(r["metadata"]){return{value:u?M().slice().reverse().join(""):M().join(""),metadata:d.inputmask("getmetadata")}}return u?M().slice().reverse().join(""):M().join("");case"isValid":d=e({});d.data("_inputmask",{maskset:i,opts:s,isRTL:s.numericInput});if(s.numericInput){u=true}var ht=r["value"].split("");z(d,false,true,u?ht.reverse():ht);var pt=M();var dt=K(),vt=pt.length-1;for(;vt>dt;vt--){if(B(vt))break}pt.splice(dt,vt+1-dt);return G(pt)&&r["value"]==pt.join("");case"getemptymask":d=e(r["el"]);i=d.data("_inputmask")["maskset"];s=d.data("_inputmask")["opts"];return O();case"remove":var mt=r["el"];d=e(mt);i=d.data("_inputmask")["maskset"];s=d.data("_inputmask")["opts"];mt._valueSet(X(d));d.unbind(".inputmask");d.removeData("_inputmask");var gt;if(Object.getOwnPropertyDescriptor)gt=Object.getOwnPropertyDescriptor(mt,"value");if(gt&&gt.get){if(mt._valueGet){Object.defineProperty(mt,"value",{get:mt._valueGet,set:mt._valueSet})}}else if(document.__lookupGetter__&&mt.__lookupGetter__("value")){if(mt._valueGet){mt.__defineGetter__("value",mt._valueGet);mt.__defineSetter__("value",mt._valueSet)}}try{delete mt._valueGet;delete mt._valueSet}catch(yt){mt._valueGet=undefined;mt._valueSet=undefined}break;case"getmetadata":d=e(r["el"]);i=d.data("_inputmask")["maskset"];s=d.data("_inputmask")["opts"];if(e.isArray(i["metadata"])){var bt,wt=x();for(var Et=wt;Et>=0;Et--){if(E()["validPositions"][Et]&&E()["validPositions"][Et].alternation!=undefined){bt=E()["validPositions"][Et].alternation;break}}if(bt!=undefined){return i["metadata"][E()["validPositions"][wt].locator[bt]]}else return i["metadata"][0]}return i["metadata"]}}}e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:true,autoUnmask:false,removeMaskOnSubmit:false,clearMaskOnLostFocus:true,insertMode:true,clearIncomplete:false,aliases:{},alias:null,onKeyUp:e.noop,onKeyPress:e.noop,onKeyDown:e.noop,onBeforeMask:undefined,onBeforePaste:undefined,onUnMask:undefined,showMaskOnFocus:true,showMaskOnHover:true,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:false,numericInput:false,rightAlign:false,undoOnEscape:true,radixPoint:"",radixFocus:false,nojumps:false,nojumpsThreshold:0,keepStatic:undefined,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z?-???À-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z?-???À-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:undefined,postProcessOnBlur:undefined},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,n,s){var o=e.extend(true,{},e.inputmask.defaults,n);r(o.alias,n,o);return h({action:"format",value:t,metadata:s},i(o),o)},isValid:function(t,n){var s=e.extend(true,{},e.inputmask.defaults,n);r(s.alias,n,s);return h({action:"isValid",value:t},i(s),s)}};e.fn.inputmask=function(t,n,s,o,u){function a(t,n,i){var s=e(t);if(s.data("inputmask-alias")){r(s.data("inputmask-alias"),{},n)}for(var o in n){var u=s.data("inputmask-"+o.toLowerCase());if(u!=undefined){if(o=="mask"&&u.indexOf("[")==0){n[o]=u.replace(/[\s[\]]/g,"").split("','");n[o][0]=n[o][0].replace("'","");n[o][n[o].length-1]=n[o][n[o].length-1].replace("'","")}else n[o]=typeof u=="boolean"?u:u.toString();if(i)i[o]=n[o]}}return n}s=s||h;o=o||"_inputmask";var f=e.extend(true,{},e.inputmask.defaults,n),l;if(typeof t==="string"){switch(t){case"mask":r(f.alias,n,f);l=i(f,s!==h);if(l==undefined){return this}return this.each(function(){s({action:"mask",el:this},e.extend(true,{},l),a(this,f))});case"unmaskedvalue":var c=e(this);if(c.data(o)){return s({action:"unmaskedvalue",$input:c})}else return c.val();case"remove":return this.each(function(){var t=e(this);if(t.data(o)){s({action:"remove",el:this})}});case"getemptymask":if(this.data(o)){return s({action:"getemptymask",el:this})}else return"";case"hasMaskedValue":return this.data(o)?!this.data(o)["opts"].autoUnmask:false;case"isComplete":if(this.data(o)){return s({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this})}else return true;case"getmetadata":if(this.data(o)){return s({action:"getmetadata",el:this})}else return undefined;case"_detectScope":r(f.alias,n,f);if(u!=undefined&&!r(u,n,f)&&e.inArray(u,["mask","unmaskedvalue","remove","getemptymask","hasMaskedValue","isComplete","getmetadata","_detectScope"])==-1){f.mask=u}if(e.isFunction(f.mask)){f.mask=f.mask.call(this,f)}return e.isArray(f.mask);default:r(f.alias,n,f);if(!r(t,n,f)){f.mask=t}l=i(f,s!==h);if(l==undefined){return this}return this.each(function(){s({action:"mask",el:this},e.extend(true,{},l),a(this,f))})}}else if(typeof t=="object"){f=e.extend(true,{},e.inputmask.defaults,t);r(f.alias,t,f);l=i(f,s!==h);if(l==undefined){return this}return this.each(function(){s({action:"mask",el:this},e.extend(true,{},l),a(this,f))})}else if(t==undefined){return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&t!=""){try{t=t.replace(new RegExp("'","g"),'"');var i=e.parseJSON("{"+t+"}");e.extend(true,i,n);f=e.extend(true,{},e.inputmask.defaults,i);f=a(this,f);r(f.alias,i,f);f.alias=undefined;e(this).inputmask("mask",f,s)}catch(o){}}if(e(this).attr("data-inputmask-mask")||e(this).attr("data-inputmask-alias")){f=e.extend(true,{},e.inputmask.defaults,{});var u={};f=a(this,f,u);r(f.alias,u,f);f.alias=undefined;e(this).inputmask("mask",f,s)}})}}}return e.fn.inputmask})(jQuery)